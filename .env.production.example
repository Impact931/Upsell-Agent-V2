# Production Environment Variables Template
# Copy to .env.production for production deployment
# DO NOT commit actual production values to version control

# Database Configuration (Production)
DATABASE_URL="postgresql://username:password@prod-db-host:5432/upsell_agent_prod"

# JWT Configuration (Production - MUST BE SECURE)
JWT_SECRET="GENERATE-STRONG-SECRET-256-BITS-MINIMUM-FOR-PRODUCTION"
JWT_EXPIRES_IN="2h" # Shorter expiry for production

# OpenAI Configuration
OPENAI_API_KEY="your-production-openai-api-key"
OPENAI_MODEL="gpt-4-turbo-preview"
OPENAI_MAX_TOKENS="2000"

# Application Configuration
NODE_ENV="production"
NEXT_PUBLIC_APP_URL="https://yourdomain.com"
PORT="3000"

# File Upload Configuration (Production)
MAX_FILE_SIZE="5242880" # 5MB in production (smaller than dev)
UPLOAD_PATH="/secure/uploads" # Secure upload directory

# CORS Configuration (Production - Restrict Origins)
CORS_ORIGINS="https://yourdomain.com,https://www.yourdomain.com"

# Rate Limiting (Production - Stricter)
RATE_LIMIT_MAX="50" # Reduced from dev
RATE_LIMIT_WINDOW="900000" # 15 minutes

# Rate Limiting - Authentication (Very Strict)
RATE_LIMIT_AUTH_MAX="5" # Very strict for production
RATE_LIMIT_AUTH_WINDOW="1800000" # 30 minutes

# Rate Limiting - File Uploads (Strict)
RATE_LIMIT_UPLOAD_MAX="10" # Reduced from dev
RATE_LIMIT_UPLOAD_WINDOW="3600000" # 1 hour

# Logging Configuration (Production)
LOG_LEVEL="warn" # Only warnings and errors in production
LOG_FILE="logs/production.log"

# Security Configuration (Production)
BCRYPT_ROUNDS="14" # Higher rounds for production
SESSION_TIMEOUT="7200000" # 2 hours in production

# SSL/HTTPS Configuration
HTTPS_KEY_PATH="/path/to/private-key.pem"
HTTPS_CERT_PATH="/path/to/certificate.pem"
HTTPS_CA_PATH="/path/to/ca-bundle.pem"

# Database Connection Pool (Production)
DB_POOL_MIN="2"
DB_POOL_MAX="10"
DB_CONNECTION_TIMEOUT="5000"
DB_IDLE_TIMEOUT="10000"

# Redis Configuration (for production rate limiting and sessions)
REDIS_URL="redis://username:password@redis-host:6379"
REDIS_MAX_RETRIES="3"
REDIS_RETRY_DELAY_ON_FAILURE="100"

# Monitoring and Alerting
HEALTH_CHECK_INTERVAL="30000" # 30 seconds
ALERT_WEBHOOK_URL="https://your-monitoring-service.com/webhook"

# Backup Configuration
BACKUP_SCHEDULE="0 2 * * *" # Daily at 2 AM
BACKUP_RETENTION_DAYS="30"
BACKUP_STORAGE_PATH="/secure/backups"

# Content Security Policy (Production)
CSP_REPORT_URI="https://yourdomain.com/api/csp-report"

# Feature Flags (Production)
enableCORS="true"
enableRateLimiting="true"
enableSecurityHeaders="true"
enableAuditLogging="true"

# External Service URLs (Production)
NOTIFICATION_SERVICE_URL="https://notifications.yourdomain.com"
ANALYTICS_SERVICE_URL="https://analytics.yourdomain.com"

# Context7 MCP Configuration (Production)
CONTEXT7_API_KEY="your-production-context7-api-key"